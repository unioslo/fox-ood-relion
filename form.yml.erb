---
cluster: "fox"

form:
  - auto_accounts
  - ec_mail_on_start
  - global_fox_alacarte
  - relion_version
  - relion_workdir
  - ec_mem
  - ec_cpus
  - ec_gpus
  - bc_num_hours
  - ec_modules

attributes:
  auto_accounts:
   label: "Choose the Educloud project:"
   help: |
          <small>If you are unsure, ask the project principal</small>

  ec_mail_on_start:
    label: "Send e-mail when session starts"
    widget: "check_box"
    value: false
    help: |
      <small>Using the e-mail your account is registered to</small>

<%= FormTemplate.fox_alacarte %>

  relion_version:
    label: "Relion version:"
    widget: "select"
    options:
      - [ "5.0.0", "5.0.0" ]

  relion_workdir:
    widget: "path_selector"
    label: "Working Directory"
    data-target-file-type: dirs  # Valid values are: files, dirs, or both
    readonly: false
    help: "<small>Select your Relion project directory</small>"

  ec_cpus:
    label: "Number of CPU cores:"
    widget: "number_field"
    value: "1"
    required: true

  ec_gpus:
    label: "Number of GPUs:"
    widget: "number_field"
    value: "0"
    required: true

  ec_mem:
    label: "RAM (in GB):"
    value: "1"
    widget: "number_field"
    required: true

  bc_num_hours:
    label: "Runtime (in hours) (required)"
    widget: "number_field"
    required: true
    value: "1"

  ec_modules:
   label: "Additional modules (optional)"
   value: ''
   cacheable: false
   help: <small>Space separated list of additional modules to load</br/>
         Run `module avail` for a full list. </small>

